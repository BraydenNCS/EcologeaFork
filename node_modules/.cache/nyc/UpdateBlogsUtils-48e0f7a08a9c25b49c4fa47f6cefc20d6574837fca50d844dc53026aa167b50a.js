function cov_gwgcmh3jh(){var path="C:\\Users\\Poly\\poly\\Devops\\Ecologea\\utils\\UpdateBlogsUtils.js";var hash="eac86e2e2ca784400c60e460431c60d54b07ff1b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Poly\\poly\\Devops\\Ecologea\\utils\\UpdateBlogsUtils.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:42}},"1":{start:{line:2,column:11},end:{line:2,column:33}},"2":{start:{line:4,column:4},end:{line:7,column:52}},"3":{start:{line:5,column:21},end:{line:5,column:56}},"4":{start:{line:6,column:8},end:{line:6,column:32}},"5":{start:{line:7,column:20},end:{line:7,column:39}},"6":{start:{line:7,column:40},end:{line:7,column:50}},"7":{start:{line:10,column:4},end:{line:15,column:52}},"8":{start:{line:11,column:27},end:{line:11,column:51}},"9":{start:{line:12,column:8},end:{line:12,column:32}},"10":{start:{line:13,column:8},end:{line:13,column:73}},"11":{start:{line:14,column:8},end:{line:14,column:26}},"12":{start:{line:15,column:20},end:{line:15,column:39}},"13":{start:{line:15,column:40},end:{line:15,column:50}},"14":{start:{line:18,column:4},end:{line:42,column:5}},"15":{start:{line:19,column:19},end:{line:19,column:32}},"16":{start:{line:20,column:22},end:{line:20,column:36}},"17":{start:{line:21,column:21},end:{line:21,column:34}},"18":{start:{line:22,column:21},end:{line:22,column:34}},"19":{start:{line:23,column:25},end:{line:23,column:59}},"20":{start:{line:24,column:23},end:{line:24,column:28}},"21":{start:{line:25,column:8},end:{line:33,column:9}},"22":{start:{line:25,column:21},end:{line:25,column:22}},"23":{start:{line:26,column:30},end:{line:26,column:41}},"24":{start:{line:27,column:12},end:{line:32,column:13}},"25":{start:{line:28,column:16},end:{line:28,column:42}},"26":{start:{line:29,column:16},end:{line:29,column:40}},"27":{start:{line:30,column:16},end:{line:30,column:40}},"28":{start:{line:31,column:16},end:{line:31,column:32}},"29":{start:{line:34,column:8},end:{line:39,column:9}},"30":{start:{line:35,column:12},end:{line:35,column:85}},"31":{start:{line:36,column:12},end:{line:36,column:79}},"32":{start:{line:38,column:12},end:{line:38,column:92}},"33":{start:{line:41,column:8},end:{line:41,column:64}},"34":{start:{line:45,column:0},end:{line:47,column:6}}},fnMap:{"0":{name:"readJSON",decl:{start:{line:3,column:15},end:{line:3,column:23}},loc:{start:{line:3,column:34},end:{line:8,column:1}},line:3},"1":{name:"writeJSON",decl:{start:{line:9,column:15},end:{line:9,column:24}},loc:{start:{line:9,column:43},end:{line:16,column:1}},line:9},"2":{name:"updatePost",decl:{start:{line:17,column:15},end:{line:17,column:25}},loc:{start:{line:17,column:36},end:{line:43,column:1}},line:17}},branchMap:{"0":{loc:{start:{line:27,column:12},end:{line:32,column:13}},type:"if",locations:[{start:{line:27,column:12},end:{line:32,column:13}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:27},"1":{loc:{start:{line:34,column:8},end:{line:39,column:9}},type:"if",locations:[{start:{line:34,column:8},end:{line:39,column:9}},{start:{line:37,column:15},end:{line:39,column:9}}],line:34}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"eac86e2e2ca784400c60e460431c60d54b07ff1b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_gwgcmh3jh=function(){return actualCoverage;};}return actualCoverage;}cov_gwgcmh3jh();const{Blog}=(cov_gwgcmh3jh().s[0]++,require('../models/blog'));const fs=(cov_gwgcmh3jh().s[1]++,require('fs').promises);async function readJSON(filename){cov_gwgcmh3jh().f[0]++;cov_gwgcmh3jh().s[2]++;try{const data=(cov_gwgcmh3jh().s[3]++,await fs.readFile(filename,'utf8'));cov_gwgcmh3jh().s[4]++;return JSON.parse(data);}catch(err){cov_gwgcmh3jh().s[5]++;console.error(err);cov_gwgcmh3jh().s[6]++;throw err;}}async function writeJSON(object,filename){cov_gwgcmh3jh().f[1]++;cov_gwgcmh3jh().s[7]++;try{const allObjects=(cov_gwgcmh3jh().s[8]++,await readJSON(filename));cov_gwgcmh3jh().s[9]++;allObjects.push(object);cov_gwgcmh3jh().s[10]++;await fs.writeFile(filename,JSON.stringify(allObjects),'utf8');cov_gwgcmh3jh().s[11]++;return allObjects;}catch(err){cov_gwgcmh3jh().s[12]++;console.error(err);cov_gwgcmh3jh().s[13]++;throw err;}}async function updatePost(req,res){cov_gwgcmh3jh().f[2]++;cov_gwgcmh3jh().s[14]++;try{const id=(cov_gwgcmh3jh().s[15]++,req.params.id);const title=(cov_gwgcmh3jh().s[16]++,req.body.title);const body=(cov_gwgcmh3jh().s[17]++,req.body.body);const date=(cov_gwgcmh3jh().s[18]++,req.body.date);const allPosts=(cov_gwgcmh3jh().s[19]++,await readJSON('utils/posts.json'));var modified=(cov_gwgcmh3jh().s[20]++,false);cov_gwgcmh3jh().s[21]++;for(var i=(cov_gwgcmh3jh().s[22]++,0);i<allPosts.length;i++){var currentPost=(cov_gwgcmh3jh().s[23]++,allPosts[i]);cov_gwgcmh3jh().s[24]++;if(currentPost.id==id){cov_gwgcmh3jh().b[0][0]++;cov_gwgcmh3jh().s[25]++;allPosts[i].title=title;cov_gwgcmh3jh().s[26]++;allPosts[i].body=body;cov_gwgcmh3jh().s[27]++;allPosts[i].date=date;cov_gwgcmh3jh().s[28]++;modified=true;}else{cov_gwgcmh3jh().b[0][1]++;}}cov_gwgcmh3jh().s[29]++;if(modified){cov_gwgcmh3jh().b[1][0]++;cov_gwgcmh3jh().s[30]++;await fs.writeFile('utils/posts.json',JSON.stringify(allPosts),'utf8');cov_gwgcmh3jh().s[31]++;return res.status(201).json({message:'Blog has been updated!'});}else{cov_gwgcmh3jh().b[1][1]++;cov_gwgcmh3jh().s[32]++;return res.status(500).json({message:'Something went wrong, please retry!'});}}catch(error){cov_gwgcmh3jh().s[33]++;return res.status(500).json({message:error.message});}}cov_gwgcmh3jh().s[34]++;module.exports={readJSON,writeJSON,updatePost};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfZ3dnY21oM2poIiwiYWN0dWFsQ292ZXJhZ2UiLCJCbG9nIiwicyIsInJlcXVpcmUiLCJmcyIsInByb21pc2VzIiwicmVhZEpTT04iLCJmaWxlbmFtZSIsImYiLCJkYXRhIiwicmVhZEZpbGUiLCJKU09OIiwicGFyc2UiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJ3cml0ZUpTT04iLCJvYmplY3QiLCJhbGxPYmplY3RzIiwicHVzaCIsIndyaXRlRmlsZSIsInN0cmluZ2lmeSIsInVwZGF0ZVBvc3QiLCJyZXEiLCJyZXMiLCJpZCIsInBhcmFtcyIsInRpdGxlIiwiYm9keSIsImRhdGUiLCJhbGxQb3N0cyIsIm1vZGlmaWVkIiwiaSIsImxlbmd0aCIsImN1cnJlbnRQb3N0IiwiYiIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlVwZGF0ZUJsb2dzVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBCbG9nIH0gPSByZXF1aXJlKCcuLi9tb2RlbHMvYmxvZycpXHJcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKS5wcm9taXNlcztcclxuYXN5bmMgZnVuY3Rpb24gcmVhZEpTT04oZmlsZW5hbWUpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGZzLnJlYWRGaWxlKGZpbGVuYW1lLCAndXRmOCcpO1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7IGNvbnNvbGUuZXJyb3IoZXJyKTsgdGhyb3cgZXJyOyB9XHJcbn1cclxuYXN5bmMgZnVuY3Rpb24gd3JpdGVKU09OKG9iamVjdCwgZmlsZW5hbWUpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgYWxsT2JqZWN0cyA9IGF3YWl0IHJlYWRKU09OKGZpbGVuYW1lKTtcclxuICAgICAgICBhbGxPYmplY3RzLnB1c2gob2JqZWN0KTtcclxuICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUoZmlsZW5hbWUsIEpTT04uc3RyaW5naWZ5KGFsbE9iamVjdHMpLCAndXRmOCcpO1xyXG4gICAgICAgIHJldHVybiBhbGxPYmplY3RzO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7IGNvbnNvbGUuZXJyb3IoZXJyKTsgdGhyb3cgZXJyOyB9XHJcbn1cclxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlUG9zdChyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICAgICAgY29uc3QgdGl0bGUgPSByZXEuYm9keS50aXRsZTtcclxuICAgICAgICBjb25zdCBib2R5ID0gcmVxLmJvZHkuYm9keTtcclxuICAgICAgICBjb25zdCBkYXRlID0gcmVxLmJvZHkuZGF0ZTtcclxuICAgICAgICBjb25zdCBhbGxQb3N0cyA9IGF3YWl0IHJlYWRKU09OKCd1dGlscy9wb3N0cy5qc29uJyk7XHJcbiAgICAgICAgdmFyIG1vZGlmaWVkID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxQb3N0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudFBvc3QgPSBhbGxQb3N0c1tpXTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQb3N0LmlkID09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICBhbGxQb3N0c1tpXS50aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgICAgICAgICAgYWxsUG9zdHNbaV0uYm9keSA9IGJvZHk7XHJcbiAgICAgICAgICAgICAgICBhbGxQb3N0c1tpXS5kYXRlID0gZGF0ZTtcclxuICAgICAgICAgICAgICAgIG1vZGlmaWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobW9kaWZpZWQpIHtcclxuICAgICAgICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKCd1dGlscy9wb3N0cy5qc29uJywgSlNPTi5zdHJpbmdpZnkoYWxsUG9zdHMpLCAndXRmOCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oeyBtZXNzYWdlOiAnQmxvZyBoYXMgYmVlbiB1cGRhdGVkIScgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ1NvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgcmV0cnkhJyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgcmVhZEpTT04sIHdyaXRlSlNPTiwgdXBkYXRlUG9zdFxyXG4gICAgfTsiXSwibWFwcGluZ3MiOiJ1bUhBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlosS0FBTSxDQUFFRSxJQUFLLENBQUMsRUFBQUYsYUFBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUMxQyxLQUFNLENBQUFDLEVBQUUsRUFBQUwsYUFBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQ0UsUUFBUSxFQUNqQyxjQUFlLENBQUFDLFFBQVFBLENBQUNDLFFBQVEsQ0FBRSxDQUFBUixhQUFBLEdBQUFTLENBQUEsTUFBQVQsYUFBQSxHQUFBRyxDQUFBLE1BQzlCLEdBQUksQ0FDQSxLQUFNLENBQUFPLElBQUksRUFBQVYsYUFBQSxHQUFBRyxDQUFBLE1BQUcsS0FBTSxDQUFBRSxFQUFFLENBQUNNLFFBQVEsQ0FBQ0gsUUFBUSxDQUFFLE1BQU0sQ0FBQyxFQUFDUixhQUFBLEdBQUFHLENBQUEsTUFDakQsTUFBTyxDQUFBUyxJQUFJLENB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